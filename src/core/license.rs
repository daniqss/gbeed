const OLD_LICENSE_ADDR: usize = 0x014B;
const NEW_LICENSE_START_ADDR: usize = 0x0144;
const NEW_LICENSE_END_ADDR: usize = 0x0145;

/// # Old license
/// The byte 0x014B is used to set the gameâ€™s publisher
/// When the value is 0x33, it is a post Super Gameboy cartridge, that use new license codes
pub fn get_license(raw: &Vec<u8>) -> (bool, Option<String>) {
    (
        true,
        match raw[OLD_LICENSE_ADDR] {
            0x00 => None,
            0x01 => Some("Nintendo".to_owned()),
            0x08 => Some("Capcom".to_owned()),
            0x09 => Some("HOT-B".to_owned()),
            0x0A => Some("Jaleco".to_owned()),
            0x0B => Some("Coconuts Japan".to_owned()),
            0x0C => Some("Elite Systems".to_owned()),
            0x13 => Some("EA (Electronic Arts)".to_owned()),
            0x18 => Some("Hudson Soft".to_owned()),
            0x19 => Some("ITC Entertainment".to_owned()),
            0x1A => Some("Yanoman".to_owned()),
            0x1D => Some("Japan Clary".to_owned()),
            0x1F => Some("Virgin Games Ltd.".to_owned()),
            0x24 => Some("PCM Complete".to_owned()),
            0x25 => Some("San-X".to_owned()),
            0x28 => Some("Kemco".to_owned()),
            0x29 => Some("SETA Corporation".to_owned()),
            0x30 => Some("Infogrames".to_owned()),
            0x31 => Some("Nintendo".to_owned()),
            0x32 => Some("Bandai".to_owned()),
            0x33 => return (false, get_new_license(raw)),
            0x34 => Some("Konami".to_owned()),
            0x35 => Some("HectorSoft".to_owned()),
            0x38 => Some("Capcom".to_owned()),
            0x39 => Some("Banpresto".to_owned()),
            0x3C => Some("Entertainment Interactive".to_owned()),
            0x3E => Some("Gremlin".to_owned()),
            0x41 => Some("Ubi Soft".to_owned()),
            0x42 => Some("Atlus".to_owned()),
            0x44 => Some("Malibu Interactive".to_owned()),
            0x46 => Some("Angel".to_owned()),
            0x47 => Some("Spectrum HoloByte".to_owned()),
            0x49 => Some("Irem".to_owned()),
            0x4A => Some("Virgin Games Ltd.".to_owned()),
            0x4D => Some("Malibu Interactive".to_owned()),
            0x4F => Some("U.S. Gold".to_owned()),
            0x50 => Some("Absolute".to_owned()),
            0x51 => Some("Acclaim Entertainment".to_owned()),
            0x52 => Some("Activision".to_owned()),
            0x53 => Some("Sammy USA Corporation".to_owned()),
            0x54 => Some("GameTek".to_owned()),
            0x55 => Some("Park Place".to_owned()),
            0x56 => Some("LJN".to_owned()),
            0x57 => Some("Matchbox".to_owned()),
            0x59 => Some("Milton Bradley Company".to_owned()),
            0x5A => Some("Mindscape".to_owned()),
            0x5B => Some("Romstar".to_owned()),
            0x5C => Some("Naxat Soft".to_owned()),
            0x5D => Some("Tradewest".to_owned()),
            0x60 => Some("Titus Interactive".to_owned()),
            0x61 => Some("Virgin Games Ltd.".to_owned()),
            0x67 => Some("Ocean Software".to_owned()),
            0x69 => Some("EA (Electronic Arts)".to_owned()),
            0x6E => Some("Elite Systems".to_owned()),
            0x6F => Some("Electro Brain".to_owned()),
            0x70 => Some("Infogrames".to_owned()),
            0x71 => Some("Interplay Entertainment".to_owned()),
            0x72 => Some("Broderbund".to_owned()),
            0x73 => Some("Sculptured Software".to_owned()),
            0x75 => Some("The Sales Curve Limited".to_owned()),
            0x78 => Some("THQ".to_owned()),
            0x79 => Some("Accolade".to_owned()),
            0x7A => Some("Triffix Entertainment".to_owned()),
            0x7C => Some("MicroProse".to_owned()),
            0x7F => Some("Kemco".to_owned()),
            0x80 => Some("Misawa Entertainment".to_owned()),
            0x83 => Some("LOZC G.".to_owned()),
            0x86 => Some("Tokuma Shoten".to_owned()),
            0x8B => Some("Bullet-Proof Software".to_owned()),
            0x8C => Some("Vic Tokai Corp.".to_owned()),
            0x8E => Some("Ape Inc.".to_owned()),
            0x8F => Some("I'Max".to_owned()),
            0x91 => Some("Chunsoft Co.".to_owned()),
            0x92 => Some("Video System".to_owned()),
            0x93 => Some("Tsubaraya Productions".to_owned()),
            0x95 => Some("Varie".to_owned()),
            0x96 => Some("Yonezawa/S'Pal".to_owned()),
            0x97 => Some("Kemco".to_owned()),
            0x99 => Some("Arc".to_owned()),
            0x9A => Some("Nihon Bussan".to_owned()),
            0x9B => Some("Tecmo".to_owned()),
            0x9C => Some("Imagineer".to_owned()),
            0x9D => Some("Banpresto".to_owned()),
            0x9F => Some("Nova".to_owned()),
            0xA1 => Some("Hori Electric".to_owned()),
            0xA2 => Some("Bandai".to_owned()),
            0xA4 => Some("Konami".to_owned()),
            0xA6 => Some("Kawada".to_owned()),
            0xA7 => Some("Takara".to_owned()),
            0xA9 => Some("Technos Japan".to_owned()),
            0xAA => Some("Broderbund".to_owned()),
            0xAC => Some("Toei Animation".to_owned()),
            0xAD => Some("Toho".to_owned()),
            0xAF => Some("Namco".to_owned()),
            0xB0 => Some("Acclaim Entertainment".to_owned()),
            0xB1 => Some("ASCII Corporation or Nexsoft".to_owned()),
            0xB2 => Some("Bandai".to_owned()),
            0xB4 => Some("Square Enix".to_owned()),
            0xB6 => Some("HAL Laboratory".to_owned()),
            0xB7 => Some("SNK".to_owned()),
            0xB9 => Some("Pony Canyon".to_owned()),
            0xBA => Some("Culture Brain".to_owned()),
            0xBB => Some("Sunsoft".to_owned()),
            0xBD => Some("Sony Imagesoft".to_owned()),
            0xBF => Some("Sammy Corporation".to_owned()),
            0xC0 => Some("Taito".to_owned()),
            0xC2 => Some("Kemco".to_owned()),
            0xC3 => Some("Square".to_owned()),
            0xC4 => Some("Tokuma Shoten".to_owned()),
            0xC5 => Some("Data East".to_owned()),
            0xC6 => Some("Tonkin House".to_owned()),
            0xC8 => Some("Koei".to_owned()),
            0xC9 => Some("UFL".to_owned()),
            0xCA => Some("Ultra Games".to_owned()),
            0xCB => Some("VAP, Inc.".to_owned()),
            0xCC => Some("Use Corporation".to_owned()),
            0xCD => Some("Meldac".to_owned()),
            0xCE => Some("Pony Canyon".to_owned()),
            0xCF => Some("Angel".to_owned()),
            0xD0 => Some("Taito".to_owned()),
            0xD1 => Some("SOFEL (Software Engineering Lab)".to_owned()),
            0xD2 => Some("Quest".to_owned()),
            0xD3 => Some("Sigma Enterprises".to_owned()),
            0xD4 => Some("ASK Kodansha Co.".to_owned()),
            0xD6 => Some("Naxat Soft".to_owned()),
            0xD7 => Some("Copya System".to_owned()),
            0xD9 => Some("Banpresto".to_owned()),
            0xDA => Some("Tomy".to_owned()),
            0xDB => Some("LJN".to_owned()),
            0xDD => Some("Nippon Computer Systems".to_owned()),
            0xDE => Some("Human Ent.".to_owned()),
            0xDF => Some("Altron".to_owned()),
            0xE0 => Some("Jaleco".to_owned()),
            0xE1 => Some("Towa Chiki".to_owned()),
            0xE2 => Some("Yutaka".to_owned()),
            0xE3 => Some("Varie".to_owned()),
            0xE5 => Some("Epoch".to_owned()),
            0xE7 => Some("Athena".to_owned()),
            0xE8 => Some("Asmik Ace Entertainment".to_owned()),
            0xE9 => Some("Natsume".to_owned()),
            0xEA => Some("King Records".to_owned()),
            0xEB => Some("Atlus".to_owned()),
            0xEC => Some("Epic/Sony Records".to_owned()),
            0xEE => Some("IGS".to_owned()),
            0xF0 => Some("A Wave".to_owned()),
            0xF3 => Some("Extreme Entertainment".to_owned()),
            0xFF => Some("LJN".to_owned()),
            _ => unreachable!("Unknown old license code: {:#?}", raw[OLD_LICENSE_ADDR]),
        },
    )
}

/// # New license
/// NEW_LICENSE_START_ADDR and NEW_LICENSE_END_ADDR are use in post Super Gameboy cartridges to set the game's publisher
/// New licenses are coded in ASCII
fn get_new_license(raw: &Vec<u8>) -> Option<String> {
    match (raw[NEW_LICENSE_START_ADDR], raw[NEW_LICENSE_END_ADDR]) {
        (b'0', b'0') => None,
        (b'0', b'1') => Some("Nintendo Research & Development 1".to_owned()),
        (b'0', b'8') => Some("Capcom".to_owned()),
        (b'1', b'3') => Some("EA (Electronic Arts)".to_owned()),
        (b'1', b'8') => Some("Hudson Soft".to_owned()),
        (b'1', b'9') => Some("B-AI".to_owned()),
        (b'2', b'0') => Some("KSS".to_owned()),
        (b'2', b'2') => Some("Planning Office WADA".to_owned()),
        (b'2', b'4') => Some("PCM Complete".to_owned()),
        (b'2', b'5') => Some("San-X".to_owned()),
        (b'2', b'8') => Some("Kemco".to_owned()),
        (b'2', b'9') => Some("SETA Corporation".to_owned()),
        (b'3', b'0') => Some("Viacom".to_owned()),
        (b'3', b'1') => Some("Nintendo".to_owned()),
        (b'3', b'2') => Some("Bandai".to_owned()),
        (b'3', b'3') => Some("Ocean Software/Acclaim Entertainment".to_owned()),
        (b'3', b'4') => Some("Konami".to_owned()),
        (b'3', b'5') => Some("HectorSoft".to_owned()),
        (b'3', b'7') => Some("Taito".to_owned()),
        (b'3', b'8') => Some("Hudson Soft".to_owned()),
        (b'3', b'9') => Some("Banpresto".to_owned()),
        (b'4', b'1') => Some("Ubi Soft".to_owned()),
        (b'4', b'2') => Some("Atlus".to_owned()),
        (b'4', b'4') => Some("Malibu Interactive".to_owned()),
        (b'4', b'6') => Some("Angel".to_owned()),
        (b'4', b'7') => Some("Bullet-Proof Software".to_owned()),
        (b'4', b'9') => Some("Irem".to_owned()),
        (b'5', b'0') => Some("Absolute".to_owned()),
        (b'5', b'1') => Some("Acclaim Entertainment".to_owned()),
        (b'5', b'2') => Some("Activision".to_owned()),
        (b'5', b'3') => Some("Sammy USA Corporation".to_owned()),
        (b'5', b'4') => Some("Konami".to_owned()),
        (b'5', b'5') => Some("Hi Tech Expressions".to_owned()),
        (b'5', b'6') => Some("LJN".to_owned()),
        (b'5', b'7') => Some("Matchbox".to_owned()),
        (b'5', b'8') => Some("Mattel".to_owned()),
        (b'5', b'9') => Some("Milton Bradley Company".to_owned()),
        (b'6', b'0') => Some("Titus Interactive".to_owned()),
        (b'6', b'1') => Some("Virgin Games Ltd.".to_owned()),
        (b'6', b'4') => Some("Lucasfilm Games".to_owned()),
        (b'6', b'7') => Some("Ocean Software".to_owned()),
        (b'6', b'9') => Some("EA (Electronic Arts)".to_owned()),
        (b'7', b'0') => Some("Infogrames".to_owned()),
        (b'7', b'1') => Some("Interplay Entertainment".to_owned()),
        (b'7', b'2') => Some("Broderbund".to_owned()),
        (b'7', b'3') => Some("Sculptured Software".to_owned()),
        (b'7', b'5') => Some("The Sales Curve Limited".to_owned()),
        (b'7', b'8') => Some("THQ".to_owned()),
        (b'7', b'9') => Some("Accolade".to_owned()),
        (b'8', b'0') => Some("Misawa Entertainment".to_owned()),
        (b'8', b'3') => Some("LOZC G.".to_owned()),
        (b'8', b'6') => Some("Tokuma Shoten".to_owned()),
        (b'8', b'7') => Some("Tsukuda Original".to_owned()),
        (b'9', b'1') => Some("Chunsoft Co.".to_owned()),
        (b'9', b'2') => Some("Video System".to_owned()),
        (b'9', b'3') => Some("Ocean Software/Acclaim Entertainment".to_owned()),
        (b'9', b'5') => Some("Varie".to_owned()),
        (b'9', b'6') => Some("Yonezawa/S'Pal".to_owned()),
        (b'9', b'7') => Some("Kaneko".to_owned()),
        (b'9', b'9') => Some("Pack-In-Video".to_owned()),
        (b'9', b'H') => Some("Bottom Up".to_owned()),
        (b'A', b'4') => Some("Konami (Yu-Gi-Oh!)".to_owned()),
        (b'B', b'L') => Some("MTO".to_owned()),
        (b'D', b'K') => Some("Kodansha".to_owned()),
        _ => None,
    }
}
